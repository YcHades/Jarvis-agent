我已将本次任务中获取的经验与我原有的经验进行了合并。
```xml
<knowledge>

**通用方法论与行为原则：**

*   **任务拆解与规划：** 面对复杂任务，将其拆解为更小、可管理的子任务，并为每个子任务制定详细的执行步骤和预期的验证方式。
*   **明确工具适用范围：** 在选择工具时，不仅要看其字面功能，还要理解其在代理环境下的实际能力和限制。不同的工具适用于不同的场景（例如，浏览器工具用于Web UI交互，命令行工具用于系统级操作和高级网络请求）。
*   **验证中间结果与及时止损：** 每次执行关键操作后（如文件下载、数据提取、页面导航），务必立即验证其结果是否符合预期（例如检查文件是否存在、大小是否正确、提取内容是否完整），而不是盲目进行下一步。如果发现结果不符或出现错误，应立即停止，分析原因，并调整策略。
*   **系统性排查与策略切换：** 当一个方法失败时，不要反复尝试。应根据错误信息分析原因，并系统性地尝试其他可行的工具或策略。这可能包括从浏览器操作切换到命令行操作，或从无认证尝试切换到带认证的尝试。
*   **前瞻性考虑认证和依赖：** 对于需要与Web服务交互的命令行工具，应预判认证需求，并在命令中包含必要的认证信息。对于多步骤任务，应清晰识别各步骤间的依赖关系，并在遇到障碍时，考虑是否可以暂时绕过或以其他方式满足依赖，从而避免任务完全阻塞。
*   **灵活调整优先级：** 在任务执行过程中，如果某个子任务遇到持续困难，且其阻塞了后续关键步骤，应考虑是否可以暂时跳过，转而处理其他可独立进行的任务，或者通过其他途径获取被阻塞任务所需的信息，避免“卡死”。
*   **简化复杂操作：** 如果通过浏览器点击或复杂的UI交互难以实现，或者可靠性不高，寻找更直接、可编程控制的替代方案通常更高效。

**工具使用经验：**

*   **浏览器交互 (browser_*)：**
    *   **信息获取：** `browser_navigate`用于导航到指定URL。`browser_get_browser_state`用于获取当前页面的详细信息，包括URL、Title和可见元素信息，是理解页面结构和识别交互元素的基础。`browser_extract_content_by_vision`在需要从复杂视觉布局中提取文本信息时非常有用，但有时可能无法识别所有元素（如隐藏的下载链接或菜单项）。
    *   **页面交互：** `browser_type_text`用于向输入框输入文本。`browser_click`用于点击页面元素。
    *   **文件下载的局限性：** `browser_navigate`不适合直接触发文件下载并将文件保存到代理环境的特定路径（可能遇到`ERR_ABORTED`错误）。`browser_click`虽然可以模拟点击下载按钮，但浏览器内部的下载行为（例如下载路径、下载完成状态）可能超出工具的直接控制，且下载的文件可能大小为0字节或未保存到预期目录。在执行此类操作后，需要额外的时间等待 (`browser_wait`) 和文件系统检查 (`run_cmd ls -l`) 来验证下载结果。
    *   **处理弹出窗口：** 当页面被弹出窗口遮挡时，优先识别并点击关闭按钮（通常可以通过`browser_extract_content_by_vision`识别并获取索引），以便访问底层页面内容。

*   **命令行执行 (run_cmd)：**
    *   **文件下载的可靠替代方案：** 当浏览器工具下载文件受限或不可靠时，`run_cmd`结合`wget`或`curl`是下载文件的有效方法。
    *   **处理认证：** 对于需要认证的Web资源（如OwnCloud的WebDAV），在使用`wget`时，必须通过`--user <username> --password <password>`显式提供认证信息。直接的WebDAV链接如果未经认证，`wget`将返回`401 Unauthorized`。
    *   **文件操作与验证：** `run_cmd`结合`ls -l`或`ls -lh`可以用于检查文件是否存在以及文件大小，是验证文件操作是否成功的关键手段。`rm`可用于删除文件。
    *   **局限性：** `run_cmd`执行的命令无法直接利用浏览器已登录的会话信息，因此在需要认证的Web请求中，必须在命令本身中处理认证。

**特定应用经验：**

*   **Rocket.Chat：** 登录后通过搜索框可以找到特定用户并进行聊天。消息发送后通常需要等待对方回复。
*   **OwnCloud：**
    *   登录OwnCloud后，文件通常位于类似`/index.php/apps/files/?dir=/Documents/Administrative%20Specialist`的路径下。
    *   文件下载可能需要通过“Actions”菜单点击“Download”按钮触发，但浏览器点击可能无法直接将文件保存到代理环境的指定路径。
    *   WebDAV链接 (`/remote.php/webdav/...`) 是下载文件的一种方式，但通过`wget`下载需要显式认证。

</knowledge>
```